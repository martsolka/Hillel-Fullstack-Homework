# üìã –°–∏—Å—Ç–µ–º–∞ –æ–ø–∏—Ç—É–≤–∞–Ω—å

–ü—Ä–æ—Å—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–ø–∏—Ç—É–≤–∞–Ω—å –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º PHP —Ç–∞ MySQL, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ç–∞ –∫–µ—Ä—É–≤–∞—Ç–∏ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è–º–∏.

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö 

–°–∏—Å—Ç–µ–º–∞ –æ–ø–∏—Ç—É–≤–∞–Ω—å –º—ñ—Å—Ç–∏—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ:

- üìù **poll_types** - –∑–±–µ—Ä—ñ–≥–∞—î –æ—Å–Ω–æ–≤–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è, —Ç–∞–∫—É —è–∫ –Ω–∞–∑–≤–∞, –Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π –æ–ø–∏—Å, —Å—Ç–∞—Ç—É—Å —ñ –º—ñ—Ç–∫–∏ —á–∞—Å—É. 

- ‚ùî **poll_type_questions** - –∑–±–µ—Ä—ñ–≥–∞—î –ø–∏—Ç–∞–Ω–Ω—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–∏–ø—É –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è, —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –æ–¥–∏–Ω–∏—á–Ω–æ–≥–æ –≤–∏–±–æ—Ä—É (—Ä–∞–¥—ñ–æ–∫–Ω–æ–ø–∫–∏), –º–Ω–æ–∂–∏–Ω–Ω–æ–≥–æ –≤–∏–±–æ—Ä—É (—á–µ–∫–±–æ–∫—Å–∏), –≤–∏–ø–∞–¥–∞—é—á–æ–≥–æ —Å–ø–∏—Å–∫—É, —Ä–µ–π—Ç–∏–Ω–≥–æ–º –∞–±–æ –≤—ñ–¥–∫—Ä–∏—Ç–æ—é –≤—ñ–¥–ø–æ–≤—ñ–¥–¥—é.

- üîò **poll_type_question_options** - –∑–±–µ—Ä—ñ–≥–∞—î –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –¥–ª—è –∑–∞–ø–∏—Ç–∞–Ω—å, —è–∫—ñ –º–∞—é—Ç—å –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å –≤–∏–∑–Ω–∞—á–µ–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏(—Ä–∞–¥—ñ–æ–∫–Ω–æ–ø–∫–∏, —á–µ–∫–±–æ–∫—Å–∏, –≤–∏–ø–∞–¥–∞—é—á—ñ —Å–ø–∏—Å–∫–∏).

- üìä **polls** - –∑–±–µ—Ä—ñ–≥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–µ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è, –∫–æ–ª–∏ —ñ —Ö—Ç–æ –Ω–∞ –Ω—å–æ–≥–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–≤.

- üó®Ô∏è **poll_answers** - –∑–±–µ—Ä—ñ–≥–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, –Ω–∞–¥—ñ—Å–ª–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ –Ω–∞ –∫–æ–∂–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è.

## ùÑú –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å

```sql
CREATE TABLE `poll_types` (
  `id` int UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `name` varchar(255) DEFAULT NULL,
  `description` text,
  `status` varchar(20) NOT NULL DEFAULT 'draft',
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE `poll_type_questions` (
  `id` int UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `type` varchar(20) DEFAULT NULL,
  `question` varchar(255) NOT NULL,
  `poll_type_id` int UNSIGNED NOT NULL,
  FOREIGN KEY (`poll_type_id`) REFERENCES `poll_types` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE `polls` (
  `id` int UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `owner` varchar(255) DEFAULT NULL,
  `poll_type_id` int UNSIGNED NOT NULL,
  `answered_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (`poll_type_id`) REFERENCES `poll_types` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE `poll_answers` (
  `id` int UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `answer` text,
  `poll_id` int UNSIGNED NOT NULL,
  `poll_type_question_id` int UNSIGNED NOT NULL,
  FOREIGN KEY (`poll_id`) REFERENCES `polls` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  FOREIGN KEY (`poll_type_question_id`) REFERENCES `poll_type_questions` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE `poll_type_question_options` (
  `id` int UNSIGNED NOT NULL,
  `question_id` int UNSIGNED NOT NULL,
  `option_text` varchar(255) NOT NULL UNIQUE,
  FOREIGN KEY (`question_id`) REFERENCES `poll_type_questions` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
);
```

## ‚ûï –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö

```sql
INSERT INTO poll_types (name, status, description) VALUES
('Product Evaluation', 'active', 'Survey to gather feedback on a new product'),
('Customer Satisfaction', 'active', 'Poll to measure customer satisfaction'),
('Movie Rating', 'active', 'Survey to rate a movie by viewers'),
('Year in Review 2023', 'draft', 'Poll to summarize the past year'),
('Employee Engagement', 'archived', 'Poll to measure employee engagement and job satisfaction');

INSERT INTO poll_type_questions (type, question, poll_type_id) VALUES
('rating', 'How would you rate the overall quality of the product?', 1),
('multiple_choice', 'Which feature did you like the most?', 1),
('open_ended', 'What improvements would you suggest for the product?', 1),
('single_choice', 'What genre of movie did you choose?', 3),
('multiple_choice', 'What emotions did the movie evoke in you?', 3),
('rating', 'How would you rate the year 2023 overall?', 4);
```

## üíª –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è üíª

https://github.com/martsolka/Hillel-Fullstack-Homework/assets/75698258/d3274c73-19aa-4bda-b50f-278ab38776b3